<script>
  const chatBox = document.getElementById('chat-box');
  const userInput = document.getElementById('user-input');
  const sendBtn = document.getElementById('send-btn');

  // List of words to block (lowercase only)
  const bannedWords = ["fuck", "shit", "bitch", "asshole", "damn"]; 

  function cleanMessage(text) {
    let words = text.split(/\s+/);
    return words
      .map(word => bannedWords.includes(word.toLowerCase()) ? "" : word)
      .join(" ")
      .replace(/\s+/g, " ")
      .trim();
  }

  function sendMessage() {
    let message = userInput.value.trim();
    if (message === '') return;

    // Clean swears before showing
    message = cleanMessage(message);
    if (message === '') return; // don't send empty after cleaning

    // Show user message
    chatBox.innerHTML += `<div><strong>You:</strong> ${message}</div>`;

    // Placeholder response
    const placeholderResponse = getLunvoResponse(message);

    // Typing effect
    typeMessage("Lunvo", placeholderResponse, 40);

    chatBox.scrollTop = chatBox.scrollHeight;
    userInput.value = '';
  }

  function getLunvoResponse(input) {
    return "Okay, I understood that! (Placeholder until AI is connected.)";
  }

  function typeMessage(sender, text, speed) {
    let index = 0;
    const messageDiv = document.createElement('div');
    messageDiv.innerHTML = `<strong>${sender}:</strong> <span id="typing"></span>`;
    chatBox.appendChild(messageDiv);

    function typeChar() {
      if (index < text.length) {
        messageDiv.querySelector('#typing').textContent += text.charAt(index);
        index++;
        setTimeout(typeChar, speed);
      }
    }
    typeChar();
  }

  // Button click
  sendBtn.addEventListener('click', sendMessage);

  // Enter key
  userInput.addEventListener('keypress', function (e) {
    if (e.key === 'Enter') {
      e.preventDefault();
      sendMessage();
    }
  });
</script>
